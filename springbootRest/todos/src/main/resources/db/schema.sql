create table if not exists authorities (id bigint generated by default as identity, name varchar(20) not null, primary key (id));
create table if not exists roles (id bigint generated by default as identity, name varchar(20) not null, primary key (id));
create table if not exists roles_authorities (roles_id bigint not null, authorities_id bigint not null);
create table if not exists todos (id bigint generated by default as identity, description varchar(255), is_done boolean not null, target_date timestamp, users_id bigint, primary key (id));
create table if not exists users (id bigint generated by default as identity, email varchar(120) not null, encrypted_password varchar(255) not null, first_name varchar(50) not null, last_name varchar(50) not null, user_id varchar(255) not null, roles_id bigint, primary key (id));
alter table users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email);
alter table roles_authorities add constraint FKe4pjsn2c2ttg8bpbe1yk29snn foreign key (authorities_id) references authorities;
alter table roles_authorities add constraint FKcj918h3ee3qad1xwbx4jvvcgc foreign key (roles_id) references roles;
alter table todos add constraint FKb4c1hrtfhy8patovmlbxolcrp foreign key (users_id) references users;
alter table users add constraint FKbgvg7xuekkcqmpvi3tgkxk85j foreign key (roles_id) references roles;
